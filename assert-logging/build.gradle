apply plugin: 'java'

repositories {
   mavenCentral()
}

dependencies {
   compile("org.slf4j:slf4j-api:1.7.9")
   runtime("ch.qos.logback:logback-classic:1.1.2")
}


// test tasks

task testNoLog(type: JavaExec, dependsOn: classes) {
   main = 'test.NoLogTest'
   classpath(sourceSets.main.runtimeClasspath)
}
task testLog(type: JavaExec, dependsOn: testNoLog) {
   main = 'test.LogTest'
   classpath(sourceSets.main.runtimeClasspath)
}
task testAssertLog(type: JavaExec, dependsOn: testLog) {
   main = 'test.AssertLogTest'
   classpath(sourceSets.main.runtimeClasspath)

   // uncomment to enable assertions
   //enableAssertions = true
}


// run task

task run(dependsOn: testAssertLog)